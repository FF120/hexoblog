---
title:  算法专题：大数据和空间限制
date: 2017-04-10 17:00:36
id: 1491814836
tags:
  - ACM
categories:
  - 算法
---
主要介绍一些涉及大量数据的一些算法设计问题。
<!-- more -->

## Bloom filter（布隆过滤器）
布隆过滤器是一种用来处理大数据的查询的一种方式，该方法允许精确的判断一个元素是否属于一个集合。这里的精确是只可以在一定的精度范围内。例如可以以`99.99%`的概率确定一个元素属于还是不属于这个集合。
> 布隆过滤器的优势：
- 使用很少的空间就可以把精确度做的很高。
- 不需要存储元素本身，在某些对保密要求非常严格的场合有优势
- 不需要顾忌单个元素取值范围的大小，因为它与最终布隆过滤器的大小没有关系
（需要注意的是，单个元素的大小必须在散列函数可以表示的范围内）

> 布隆过滤器的缺点：
- 精确度永远不可能达到1
- 从集合中删除某个元素非常困难

布隆过滤器的原理是，当一个元素被加入集合时，通过K个[散列函数](#sanlie)将这个元素映射成一个位数组中的K个点，把它们置为1。检索时，我们只要看看这些点是不是都是1就（大约）知道集合中有没有它了：如果这些点有任何一个0，则被检元素一定不在；如果都是1，则被检元素很可能在。这就是布隆过滤器的基本思想。

### <span id='sanlie'>散列函数</span>
![QQ截图20170410193152.png](QQ截图20170410193152.png)
![2017-04-10_193408.png](2017-04-10_193408.png)
![2017-04-10_193551.png](2017-04-10_193551.png)
![2017-04-10_193709.png](2017-04-10_193709.png)
在生成布隆过滤器的时候遇到的对象，判断是否属于这个集合的时候是一定不会出错的。只有生成布隆过滤器的时候没有用到的元素，才可能出错。

布隆过滤器的设计需要考虑两个因素，要表示的数据量n和允许的误差范围p,这里举个例子：n=1000000000, p=0.01。已知数据量和误差范围的时候可以使用如下的公式求解需要布隆数组的位数和需要使用的散列函数的个数。

> - 布隆数组的位数m:
> m = -(n*lnp)/(ln2)^2

> - 散列函数的个数k:
> k = ln2 * (m/n) = 0.7 * m/n;

公式的具体推导过程可以参考[这里]()

参考例题：
![2017-03-22_151134.png](2017-03-22_151134.png)

## 大文件的处理
把一个大的集合通过哈希函数分配到多台机器中，或者分配到多个文件里，这种技巧是处理面试题中涉及到大数据的时候的最常用的技巧。

## 一致性哈希算法
